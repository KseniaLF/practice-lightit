{"mappings":"AAAA,0CAA0C;AAE1C,MAAM,QAAQ,SAAS,aAAa,CAAC;AACrC,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,GAAG;AACH,IAAI;AACJ,IAAI,UAAU;AACd,IAAI;AAEJ,4DAA4D;AAC5D,MAAM,gBAAgB,CAAC,SAAS;AAEhC,SAAS,QAAQ,KAAK,EAAE;IACtB,MAAM,cAAc,MAAM,MAAM,CAAC,KAAK,CAAC,IAAI;IAC3C,QAAQ,GAAG,CAAC;IACZ,IAAI,gBAAgB,IAChB,YAAY,aACT,IAAI,CAAC,CAAC,SAAW,eAAe,OAAO,OAAO,EACjD,oDAAoD;KACnD,KAAK,CAAC,CAAC,QAAU,QAAQ,GAAG,CAAC;AAEpC;AAEA,SAAS,YAAY,WAAW,EAAE;IAChC,OAAO,MAAM,CAAC,qCAAqC,EAAE,YAAY,SAAS,CAAC,EAAE,IAAI,CAC/E,CAAC,WAAa;QACZ,IAAI,CAAC,SAAS,EAAE,EACd,MAAM,IAAI,MAAM,SAAS,MAAM,EAAE;QAEnC,OAAO,SAAS,IAAI;IACtB;AAEJ;AAEA,SAAS,eAAe,MAAM,EAAE;IAC9B,sBAAsB;IACtB,MAAM,SAAS,OACZ,GAAG,CAAC,CAAC,QAAU;QACd,OAAO,CAAC,sEAEW,EAAE,MAAM,aAAa,CAAC,8DAE3B,EAAE,MAAM,UAAU,CAAC,2BACnB,EAAE,MAAM,SAAS,CAAC,2BAClB,EAAE,MAAM,cAAc,CAAC,2BACvB,EAAE,MAAM,gBAAgB,CAAC,kKAIP,CAAC;IACnC,GACC,IAAI,CAAC;IACR,UAAU,SAAS,GAAG;IAEtB,kBAAkB;AACpB;AAEA,SAAS,iBAAiB,KAAK,EAAE,CAAC,EAAE;IAClC,MAAM,SAAS,CAAC,0BAEX,EAAE,MAAM,UAAU,CAAC,GAAG,EAAE,MAAM,SAAS,CAAC,yBAC5B,EAAE,MAAM,cAAc,CAAC,0BACtB,EAAE,MAAM,UAAU,CAAC,oBACzB,EAAE,MAAM,eAAe,CAAC,2DAIf,EAAE,MAAM,eAAe,CAAC,0BAC3B,EAAE,MAAM,UAAU,CAAC,aAChC,CAAC;IACN,QAAQ,GAAG,CAAC;IACZ,OAAO,CAAC,EAAE,CAAC,SAAS,GAAG;AACvB;AAEF,SAAS,kBAAkB,MAAM,EAAE;IACjC,UAAU,SAAS,gBAAgB,CAAC;IACpC,aAAa,SAAS,gBAAgB,CAAC;IAEvC,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,MAAM,EAAE,IACrC,UAAU,CAAC,EAAE,CAAC,gBAAgB,CAAC,SAAS,IAAM;QAC5C,WAAW,OAAO,CAAC,SAAU,IAAI,EAAE;YACjC,IAAI,KAAK,SAAS,CAAC,QAAQ,CAAC,eAAe;gBACzC,KAAK,SAAS,CAAC,MAAM,CAAC;gBACtB,KAAK,SAAS,GAAG;YACnB,CAAC;QACH;QAEA,UAAU,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC;QAE/B,IAAI,UAAU,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe;YAClD,QAAQ,OAAO,CAAC,SAAU,IAAI,EAAE;gBAC9B,IAAI,SAAS,IACX,KAAK,SAAS,GAAG;YAEnB;YACD,iBAAiB,MAAM,CAAC,EAAE,EAAE;YAE3B,UAAU,CAAC,EAAE,CAAC,SAAS,GAAG;QAC9B,OACK;YACH,UAAU,CAAC,EAAE,CAAC,SAAS,GAAG;YAC1B,OAAO,CAAC,EAAE,CAAC,SAAS,GAAG;QACzB,CAAC;IAEH;AAEJ","sources":["src/index.js"],"sourcesContent":["// import debounce from \"lodash.debounce\";\r\n\r\nconst input = document.querySelector(\"input\");\r\nconst trackList = document.querySelector(\".track-list\");\r\n// \r\nlet btnInfoBox;\r\nlet infoBox = \"\";\r\nlet activeBtnInfoBox;\r\n\r\n// input.addEventListener(\"input\", debounce(onInput, 1000));\r\ninput.addEventListener(\"input\", onInput);\r\n\r\nfunction onInput(event) {\r\n  const searchQuery = event.target.value.trim();\r\n  console.log(searchQuery)\r\n  if (searchQuery !== \"\") {\r\n      fetchTracks(searchQuery)\r\n        .then((tracks) => renderUserList(tracks.results))\r\n      // .then((tracks) => console.log(tracks.results[0]))\r\n      .catch((error) => console.log(error));\r\n  }\r\n}\r\n      \r\nfunction fetchTracks(searchQuery) {\r\n  return fetch(`https://itunes.apple.com/search?term=${searchQuery}&limit=25`).then(\r\n    (response) => {\r\n      if (!response.ok) {\r\n        throw new Error(response.status);\r\n      }\r\n      return response.json();\r\n    }\r\n  );\r\n}\r\n\r\nfunction renderUserList(tracks) {\r\n  // console.log(tracks)\r\n  const markup = tracks\r\n    .map((track) => {\r\n      return `<tr>\r\n                <td><div class=\"box\">\r\n                <img src=${track.artworkUrl100} alt=\"img\">\r\n                </div></td>\r\n                <td>${track.artistName}</td>\r\n                <td>${track.trackName}</td>\r\n                <td>${track.collectionName}</td>\r\n                <td>${track.primaryGenreName}</td>\r\n                \r\n                <td><button class=\"btn-info-box\" type=\"button\">+</button></td>\r\n            </tr>\r\n            <tr class=\"info-box\"></tr>`\r\n    })\r\n    .join(\"\");\r\n  trackList.innerHTML = markup;\r\n\r\n  onDetailInfoClick(tracks)\r\n}\r\n\r\nfunction renderDetailInfo(track, i) {\r\n  const markup = `<td></td>\r\n  <td>\r\n    <p>${track.artistName} - ${track.trackName}</p>\r\n    <p>Collection: ${track.collectionName}</p>\r\n    <p>Track Count: ${track.trackCount}</p>\r\n    <p>Price: ${track.collectionPrice}</p>\r\n  </td>\r\n  <td></td>\r\n  <td>\r\n    <p>Track duration: ${track.trackTimeMillis}</p>\r\n    <p>Track price: ${track.trackPrice}</p>\r\n  </td>`\r\n  console.log(track)\r\n  infoBox[i].innerHTML = markup;\r\n  }\r\n\r\nfunction onDetailInfoClick(tracks) {\r\n  infoBox = document.querySelectorAll(\".info-box\");\r\n  btnInfoBox = document.querySelectorAll(\".btn-info-box\");\r\n\r\n  for (let i = 0; i < btnInfoBox.length; i++) {    \r\n    btnInfoBox[i].addEventListener(\"click\", () => {\r\n      btnInfoBox.forEach(function (item) { \r\n        if (item.classList.contains(\"active-btn\")) {\r\n          item.classList.remove(\"active-btn\");\r\n          item.innerHTML = \"+\";\r\n        }\r\n      })\r\n\r\n      btnInfoBox[i].classList.toggle(\"active-btn\");\r\n      \r\n      if (btnInfoBox[i].classList.contains(\"active-btn\")) { \r\n        infoBox.forEach(function (item) { \r\n          if (item !== \"\") {\r\n            item.innerHTML = \"\";\r\n          }\r\n          })\r\n         renderDetailInfo(tracks[i], i)\r\n          \r\n          btnInfoBox[i].innerHTML = \"-\";        \r\n      }\r\n      else {\r\n        btnInfoBox[i].innerHTML = \"+\";\r\n        infoBox[i].innerHTML = \"\";\r\n      }  \r\n      \r\n    });\r\n  }\r\n}"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}